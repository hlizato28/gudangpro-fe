<c-row ngPreserveWhitespaces>
    <c-col xs="12">
      <c-card class="mb-4">
        <c-card-header>
          <strong>Balancing Item</strong>
        </c-card-header>
        <c-card-body>
          <c-row class="mb-3">
            <c-col md="3">
              <label cLabel>Tanggal:</label>
              <input cFormControl type="date" [(ngModel)]="selectedDate" (change)="onDateChange()">
            </c-col>
            <c-col md="3">
              <label cLabel>Kategori:</label>
              <select cSelect [(ngModel)]="selectedKategori" (change)="onKategoriChange()">
                <option value="">Pilih Kategori</option>
                <option *ngFor="let kategori of kategoriList" [value]="kategori">{{kategori}}</option>
              </select>
            </c-col>
            <c-col md="3" class="d-flex align-items-end">
              <button cButton color="primary" (click)="loadReportWithApprove()">Show</button>
            </c-col>
          </c-row>
  
          <ng-container *ngIf="isDataLoaded">
            <table cTable class="text-center" [striped]="true" [responsive]="true" *ngIf="reportList.length; else noData">
              <thead>
                <tr>
                  <th>No.</th>
                  <th>Kode</th>
                  <th>Nama Barang</th>
                  <th>Stok Awal</th>
                  <th>In</th>
                  <th>Out</th>
                  <th>Stok Akhir</th>
                  <th style="background-color: #3c7ab7; color: white;">OPR</th>
                  <th style="background-color: #3c7ab7; color: white;">UC</th>
                  <th style="background-color: #3c7ab7; color: white;">NC</th>
                  <th style="background-color: #3c7ab7; color: white;">KKB</th>
                  <th style="background-color: #3c7ab7; color: white;">DS</th>
                  <th style="background-color: #3c7ab7; color: white;">ASR</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let item of reportList; let i = index">
                  <td>{{ i + 1 }}</td>
                  <td>{{ item.kodeBarang }}</td>
                  <td>{{ item.namaBarang }}</td>
                  <td>{{ item.stokAwal }}</td>
                  <td>{{ item.barangIn }}</td>
                  <td>{{ item.barangOut }}</td>
                  <td>{{ item.stokAhkhir }}</td>
                  <td style="background-color: #3c7ab7; color: white;">{{ item.opr }}</td>
                <td style="background-color: #3c7ab7; color: white;">{{ item.uc }}</td>
                <td style="background-color: #3c7ab7; color: white;">{{ item.nc }}</td>
                <td style="background-color: #3c7ab7; color: white;">{{ item.kkb }}</td>
                <td style="background-color: #3c7ab7; color: white;">{{ item.ds }}</td>
                <td style="background-color: #3c7ab7; color: white;">{{ item.asr }}</td>
                </tr>
              </tbody>
            </table>
  
            <ng-template #noData>
              <p class="text-center">Tidak ada data balancing.</p>
            </ng-template>
  
            <c-row class="mt-3" *ngIf="reportList.length">
              <c-col class="d-flex justify-content-center">
                <button cButton color="primary"  class="me-2">
                  Export to PDF
                </button>
              </c-col>
            </c-row>
          </ng-container>
        </c-card-body>
  
        <c-card-footer *ngIf="totalPages > 1">
          <c-pagination align="center" aria-label="Page navigation">
            <c-page-item [disabled]="currentPage === 1" aria-label="Previous">
              <a cPageLink (click)="onPageChange(currentPage - 1)">
                <span aria-hidden="true">&laquo;</span>
              </a>
            </c-page-item>
            
            <c-page-item *ngFor="let page of visiblePages" [active]="page === currentPage">
              <a cPageLink (click)="onPageChange(page)">{{ page }}</a>
            </c-page-item>
            
            <c-page-item [disabled]="currentPage === totalPages" aria-label="Next">
              <a cPageLink (click)="onPageChange(currentPage + 1)">
                <span aria-hidden="true">&raquo;</span>
              </a>
            </c-page-item>
          </c-pagination>
        </c-card-footer>
      </c-card>
    </c-col>
  </c-row>